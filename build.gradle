allprojects {
	apply plugin: 'java'

	group 'kr.co.wishDream'
	version '0.0.1-SNAPSHOT'
	
	sourceCompatibility = '11'
	targetCompatibility = '11'
}

subprojects {
	apply plugin: 'idea'
	
	repositories {
		mavenCentral()
	}
	
	dependencies {
		implementation 'org.springframework.boot:spring-boot-starter-webflux'
		compile group: 'org.springframework.boot', name: 'spring-boot-starter-freemarker'
		compile group: 'com.github.davidmoten', name: 'rxjava-jdbc', version: '0.7.16'
		compile('org.springframework.boot:spring-boot-starter-thymeleaf')
		compileOnly 'org.projectlombok:lombok'
		annotationProcessor 'org.projectlombok:lombok'
		testCompileOnly 'org.projectlombok:lombok'
		testAnnotationProcessor 'org.projectlombok:lombok'
		
		annotationProcessor 'org.projectlombok:lombok'
		testImplementation 'org.springframework.boot:spring-boot-starter-test'
		testImplementation 'io.projectreactor:reactor-test'
	}
	
	jar {
        manifest.attributes provider: 'gradle'
    }
    
}

task run {
    dependsOn gradle.includedBuilds*.task(':run')
}